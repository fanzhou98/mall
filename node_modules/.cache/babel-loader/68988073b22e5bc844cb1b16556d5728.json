{"remainingRequest":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/home/Home.vue","mtime":1597334274950},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvemhvdWZhbi9WdWUvbGVhcm4vOS5cdTU1NDZcdTU3Q0VcdTk4NzlcdTc2RUUvbWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLypIb21l5a2Q57uE5Lu2Ki8KaW1wb3J0IEhvbWVTd2lwZXIgZnJvbSAnLi9jaGlsZGNvbXBvbmVudHMvSG9tZVN3aXBlcic7CmltcG9ydCBIb21lUmVjb21tYW5kIGZyb20gIi4vY2hpbGRjb21wb25lbnRzL0hvbWVSZWNvbW1hbmQiOwppbXBvcnQgRmVhdHVyZVZpZXcgZnJvbSAiLi9jaGlsZGNvbXBvbmVudHMvRmVhdHVyZVZpZXciOwovKmNvbW1vbue7hOS7tiovCgppbXBvcnQgTmF2QmFyIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXInOwppbXBvcnQgVGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi90YWJDb250cm9sL1RhYkNvbnRyb2wiOwppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kc0xpc3QvR29vZHNMaXN0IjsKaW1wb3J0IFNjcm9sbCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsIjsKaW1wb3J0IEJhY2tUb3AgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2JhY2tUb3AvQmFja1RvcCI7Ci8qdXRpbHMqLwoKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICJjb21tb24vdXRpbHMiOwovKue9kee7nOivt+axgiovCgppbXBvcnQgeyBnZXRIb21lTXVsdGlkYXRhIGFzIF9nZXRIb21lTXVsdGlkYXRhLCBnZXRIb21lR29vZHMgYXMgX2dldEhvbWVHb29kcyB9IGZyb20gIm5ldHdvcmsvaG9tZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgTmF2QmFyOiBOYXZCYXIsCiAgICBIb21lU3dpcGVyOiBIb21lU3dpcGVyLAogICAgSG9tZVJlY29tbWFuZDogSG9tZVJlY29tbWFuZCwKICAgIEZlYXR1cmVWaWV3OiBGZWF0dXJlVmlldywKICAgIFRhYkNvbnRyb2w6IFRhYkNvbnRyb2wsCiAgICBHb29kc0xpc3Q6IEdvb2RzTGlzdCwKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgQmFja1RvcDogQmFja1RvcAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1pZGRsZUNvbE51bTogOCwKICAgICAgYmFubmVyczogW10sCiAgICAgIHJlY29tbWFuZHM6IFtdLAoKICAgICAgLyrlv4XpobvkvKDlhaXpu5jorqTlgLwqLwogICAgICBjdXJyZW50VGFiTmFtZTogJ3BvcCcsCiAgICAgIGdvb2RzOiB7CiAgICAgICAgJ3BvcCc6IHsKICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgcGFnZTogMAogICAgICAgIH0sCiAgICAgICAgJ25ldyc6IHsKICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgcGFnZTogMAogICAgICAgIH0sCiAgICAgICAgJ3NlbGwnOiB7CiAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICAgIHBhZ2U6IDAKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNob3dCYWNrVG9wOiBmYWxzZQogICAgfTsKICB9LAoKICAvKuW9k+e7hOS7tuWIm+W7uuaXtu+8jOivt+axguaVsOaNriovCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vMS7or7fmsYLpppbpobXkuIrmlrnmlbDmja4KICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YSgpOyAvL+ivt+axgummlumhteWVhuWTgeaVsOaNrgoKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdwb3AnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCduZXcnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdzZWxsJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKgogICAgKiAgIOe7hOS7tuebkeWQrOebuOWFswogICAgKiAqLwogICAgLy8KICAgIHRhYkNsaWNrOiBmdW5jdGlvbiB0YWJDbGljayhpbmRleCkgewogICAgICBzd2l0Y2ggKGluZGV4KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWJOYW1lID0gJ3BvcCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFRhYk5hbWUgPSAnbmV3JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFiTmFtZSA9ICdzZWxsJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+WbnuWIsOmhtumDqAogICAgYmFja1VwQ2xpY2s6IGZ1bmN0aW9uIGJhY2tVcENsaWNrKCkgewogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLCAwLCA1MDApOwogICAgfSwKICAgIC8v5pi+56S6YmFja1Vw5oyJ6ZKuCiAgICBnZXRTY3JvbGxQb3NpdGlvbjogZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24ocG9zaXRpb24pIHsKICAgICAgdGhpcy5zaG93QmFja1RvcCA9IC1wb3NpdGlvbi55ID4gMTAwMDsKICAgIH0sCiAgICAvL+S4iuaLieWKoOi9veabtOWkmgogICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkgewogICAgICB0aGlzLmdldEhvbWVHb29kcyh0aGlzLmN1cnJlbnRUYWJOYW1lKTsKICAgIH0sCgogICAgLyoKICAgICogICDnvZHnu5zor7fmsYIKICAgICogKi8KICAgIGdldEhvbWVNdWx0aWRhdGE6IGZ1bmN0aW9uIGdldEhvbWVNdWx0aWRhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfZ2V0SG9tZU11bHRpZGF0YSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzKTsKICAgICAgICBfdGhpcy5iYW5uZXJzID0gcmVzLmRhdGEuYmFubmVyLmxpc3Q7CiAgICAgICAgX3RoaXMucmVjb21tYW5kcyA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICBnZXRIb21lR29vZHM6IGZ1bmN0aW9uIGdldEhvbWVHb29kcyh0eXBlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGdvb2RzUGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDE7CgogICAgICBfZ2V0SG9tZUdvb2RzKHR5cGUsIGdvb2RzUGFnZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIF90aGlzMiRnb29kcyR0eXBlJGxpczsKCiAgICAgICAgKF90aGlzMiRnb29kcyR0eXBlJGxpcyA9IF90aGlzMi5nb29kc1t0eXBlXS5saXN0KS5wdXNoLmFwcGx5KF90aGlzMiRnb29kcyR0eXBlJGxpcywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKCiAgICAgICAgX3RoaXMyLmdvb2RzW3R5cGVdLnBhZ2UgPSBnb29kc1BhZ2U7IC8vY29uc29sZS5sb2codGhpcy5nb29kc1t0eXBlXSk7CgogICAgICAgIF90aGlzMi4kcmVmcy5zY3JvbGwuZmluaXNoUHVsbFVwKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciByZWZyZXNoID0gZGVib3VuY2UodGhpcy4kcmVmcy5zY3JvbGwuaW1hZ2VMb2FkZWQsIDUwKTsgLy/nm5HlkKxHb29kc0l0ZW3kuK3nmoTlm77niYfmmK/lkKbliqDovb3lrozmiJDvvIzlrozmiJDlkI7liLfmlrBTY3JvbGzvvIzpmLLmraJzY3JvbGzlnKjlm77niYfliqDovb3lrozmiJDkuYvliY3plIHmrbvlhoXlrrnnmoRoZWlnaHQKCiAgICB0aGlzLiRidXMuJG9uKCdpbWFnZUxvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgcmVmcmVzaCgpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <!--navBar-->\n        <nav-bar\n          class=\"row justify-content-around align-items-center shadow-sm nav-bar fixed-top\"\n          :middleColNum=middleColNum>\n          <!--中间插槽-->\n          <div class=\"slot align-items-center\" slot=\"middle\">\n            <!-- <div><img src=\"@/assets/img/1.png\" alt=\"\" class=\"mr-2\" style=\"width:30px\"></div>-->\n            <div class=\"title text-center\">扫物</div>\n          </div>\n        </nav-bar>\n\n      <!--Scroll-->\n      <Scroll class=\"content\"\n              :probe-type=\"3\"\n              :pull-up-load=\"true\"\n              ref=\"scroll\"\n              @getScrollPosition=\"getScrollPosition\"\n              @pullUp=\"loadMore\">\n      <!--swiper-->\n      <div class=\"row swiper\">\n        <div class=\"col\">\n          <home-swiper :banners=\"banners\"></home-swiper>\n        </div>\n      </div >\n      <!--Recommands-->\n      <home-recommand class=\"row d-flex align-items-center justify-content-between shadow-sm mt-1 pt-2 pb-2 mb-2\"\n                      :recommands=\"recommands\"\n                      id=\"recommand\"/>\n      <!--Feature-->\n      <feature-view class=\"row d-flex align-items-center\"/>\n      <!--TabControl-->\n      <tab-control class=\"row mt-2 tabControl\"\n                   :title=\"['Trends','New','Special']\"\n                   @homeTabClick=\"tabClick\"/>\n      <!--GoodsList-->\n      <goods-list class=\"row p-3\"\n                  :goods=\"goods[currentTabName].list\"/>\n      </Scroll>\n\n      <!--BackTop-->\n      <back-top id=\"back-top\"\n                @click.native=\"backUpClick\"\n                v-show=\"showBackTop\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n  /*Home子组件*/\n  import HomeSwiper from './childcomponents/HomeSwiper'\n  import HomeRecommand from \"./childcomponents/HomeRecommand\";\n  import FeatureView from \"./childcomponents/FeatureView\";\n\n  /*common组件*/\n  import NavBar from 'components/common/navbar/NavBar'\n  import TabControl from \"components/common/tabControl/TabControl\";\n  import GoodsList from \"components/content/goodsList/GoodsList\";\n  import Scroll from \"components/common/scroll/Scroll\";\n  import BackTop from \"components/content/backTop/BackTop\";\n\n  /*utils*/\n  import {debounce} from \"common/utils\";\n\n  /*网络请求*/\n  import {\n    getHomeMultidata,\n    getHomeGoods\n  } from \"network/home\";\n\n  export default {\n    name: \"Home\",\n    components:{\n      NavBar,\n      HomeSwiper,\n      HomeRecommand,\n      FeatureView,\n      TabControl,\n      GoodsList,\n      Scroll,\n      BackTop,\n    },\n    data(){\n      return{\n        middleColNum:8,\n        banners:[],\n        recommands:[],\n        /*必须传入默认值*/\n        currentTabName:'pop',\n        goods:{\n            'pop':{list:[],page:0},\n            'new':{list:[],page:0},\n            'sell':{list:[],page:0}\n        },\n        showBackTop:false,\n      }\n    },\n    /*当组件创建时，请求数据*/\n    created() {\n      //1.请求首页上方数据\n      this.getHomeMultidata();\n\n      //请求首页商品数据\n      this.getHomeGoods('pop');\n      this.getHomeGoods('new');\n      this.getHomeGoods('sell')\n    },\n    methods:{\n      /*\n      *   组件监听相关\n      * */\n      //\n      tabClick(index){\n         switch (index) {\n           case 0:{\n             this.currentTabName = 'pop';\n             break\n           }\n           case 1:{\n             this.currentTabName = 'new';\n             break\n           }\n           case 2:{\n             this.currentTabName = 'sell';\n             break\n           }\n        }\n      },\n      //回到顶部\n      backUpClick(){\n        this.$refs.scroll.scrollTo(0,0,500)\n      },\n      //显示backUp按钮\n      getScrollPosition(position){\n       this.showBackTop = (-position.y) > 1000\n      },\n      //上拉加载更多\n      loadMore(){\n        this.getHomeGoods(this.currentTabName)\n      },\n\n      /*\n      *   网络请求\n      * */\n      getHomeMultidata(){\n        getHomeMultidata().then(res=>{\n          //console.log(res);\n          this.banners = res.data.banner.list;\n          this.recommands = res.data.recommend.list\n        })\n      },\n      getHomeGoods(type){\n        const goodsPage = this.goods[type].page + 1;\n        getHomeGoods(type,goodsPage).then(res=>{\n          this.goods[type].list.push(...res.data.list);\n          this.goods[type].page = goodsPage;\n          //console.log(this.goods[type]);\n          this.$refs.scroll.finishPullUp()\n        })\n      }\n    },\n    mounted() {\n      const refresh = debounce(this.$refs.scroll.imageLoaded,50)\n      //监听GoodsItem中的图片是否加载完成，完成后刷新Scroll，防止scroll在图片加载完成之前锁死内容的height\n      this.$bus.$on('imageLoaded',()=>{\n        refresh()\n      })\n    }\n  }\n</script>\n\n<style scoped>\n  .nav-bar{\n    background-color: #ffcccc;\n    height: 45px;\n    z-index: 99;\n  }\n  .title{\n    font-size: 28px;\n    color: #2f3542;\n    font-family: STFangsong;\n  }\n  .swiper{\n    margin-top: 45px;\n  }\n#recommand{\n\n  background-color:white ;\n}\n.tabControl{\n/*  position: sticky;\n  top:0;\n  background-color:white ;\n  z-index: 100;*/\n}\n.content{\n  height: calc(100vh - 93px);\n}\n  #back-top{\n    z-index: 10000;\n  }\n\n</style>\n"],"sourceRoot":"src/views/home"}]}