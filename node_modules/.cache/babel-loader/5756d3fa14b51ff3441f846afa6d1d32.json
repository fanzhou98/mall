{"remainingRequest":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhoufan/Vue/learn/9.商城项目/mall/src/components/common/scroll/Scroll2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/src/components/common/scroll/Scroll2.vue","mtime":1598108998631},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNjcm9sbDIiLAogIHByb3BzOiB7CiAgICAvKioKICAgICAqIDEg5rua5Yqo55qE5pe25YCZ5Lya5rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5Lya5oiq5rWB44CCCiAgICAgKiAyIOa7muWKqOeahOaXtuWAmeWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOS4jeS8muaIqua1geOAggogICAgICogMyDpmaTkuoblrp7ml7bmtL7lj5FzY3JvbGzkuovku7bvvIzlnKhzd2lwZeeahOaDheWGteS4i+S7jeeEtuiDveWunuaXtua0vuWPkXNjcm9sbOS6i+S7tgogICAgICovCiAgICBwcm9iZVR5cGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDEKICAgIH0sCgogICAgLyoqCiAgICAgKiDngrnlh7vliJfooajmmK/lkKbmtL7lj5FjbGlja+S6i+S7tgogICAgICovCiAgICBjbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IHRydWUKICAgIH0sCgogICAgLyoqCiAgICAgKiDmmK/lkKblvIDlkK/mqKrlkJHmu5rliqgKICAgICAqLwogICAgc2Nyb2xsWDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAoKICAgIC8qKgogICAgICog5piv5ZCm5rS+5Y+R5rua5Yqo5LqL5Lu2CiAgICAgKi8KICAgIGxpc3RlblNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAoKICAgIC8qKgogICAgICog5YiX6KGo55qE5pWw5o2uCiAgICAgKi8KICAgIGRhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogbnVsbAogICAgfSwKCiAgICAvKioKICAgICAqIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOeahOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQogICAgICovCiAgICBwdWxsVXBMb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogZmFsc2UKICAgIH0sCgogICAgLyoqCiAgICAgKiDmmK/lkKbmtL7lj5Hpobbpg6jkuIvmi4nnmoTkuovku7bvvIznlKjkuo7kuIvmi4nliLfmlrAKICAgICAqLwogICAgcHVsbGRvd246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiB0cnVlLAogICAgICBib3VuY2U6IHRydWUKICAgIH0sCgogICAgLyoqCiAgICAgKiDmmK/lkKbmtL7lj5HliJfooajmu5rliqjlvIDlp4vnmoTkuovku7YKICAgICAqLwogICAgYmVmb3JlU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogZmFsc2UKICAgIH0sCgogICAgLyoqCiAgICAgKiDlvZPmlbDmja7mm7TmlrDlkI7vvIzliLfmlrBzY3JvbGznmoTlu7bml7bjgIIKICAgICAqLwogICAgcmVmcmVzaERlbGF5OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgImRlZmF1bHQiOiAyMAogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8g5L+d6K+B5ZyoRE9N5riy5p+T5a6M5q+V5ZCO5Yid5aeL5YyWYmV0dGVyLXNjcm9sbAogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLl9pbml0U2Nyb2xsKCk7CiAgICB9LCAyMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBfaW5pdFNjcm9sbDogZnVuY3Rpb24gX2luaXRTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gYmV0dGVyLXNjcm9sbOeahOWIneWni+WMlgoKCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwKICAgICAgICBjbGljazogdGhpcy5jbGljaywKICAgICAgICBzY3JvbGxYOiB0aGlzLnNjcm9sbFgsCiAgICAgICAgdXNlVHJhbnNpdGlvbjogZmFsc2UKICAgICAgfSk7IC8vIOaYr+WQpua0vuWPkea7muWKqOS6i+S7tgoKICAgICAgaWYgKHRoaXMubGlzdGVuU2Nyb2xsKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChwb3MpIHsKICAgICAgICAgIF90aGlzMi4kZW1pdCgnZ2V0U2Nyb2xsUG9zaXRpb24nLCBwb3MpOwogICAgICAgIH0pOwogICAgICB9IC8vIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQoKCiAgICAgIGlmICh0aGlzLnB1bGxVcExvYWQpIHsKICAgICAgICB0aGlzLnNjcm9sbC5vbignc2Nyb2xsRW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICAgICAgICBpZiAoX3RoaXMyLnNjcm9sbC55IDw9IF90aGlzMi5zY3JvbGwubWF4U2Nyb2xsWSArIDUwKSB7CiAgICAgICAgICAgIF90aGlzMi4kZW1pdCgncHVsbFVwJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gLy8g5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawCgoKICAgICAgaWYgKHRoaXMucHVsbGRvd24pIHsKICAgICAgICB0aGlzLnNjcm9sbC5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAocG9zKSB7CiAgICAgICAgICAvLyDkuIvmi4nliqjkvZwKICAgICAgICAgIGlmIChwb3MueSA+IDUwKSB7CiAgICAgICAgICAgIF90aGlzMi4kZW1pdCgncHVsbGRvd24nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSAvLyDmmK/lkKbmtL7lj5HliJfooajmu5rliqjlvIDlp4vnmoTkuovku7YKCgogICAgICBpZiAodGhpcy5iZWZvcmVTY3JvbGwpIHsKICAgICAgICB0aGlzLnNjcm9sbC5vbignYmVmb3JlU2Nyb2xsU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHsKICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGRpc2FibGXmlrnms5UKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpOwogICAgfSwKICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkgewogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEZW5hYmxl5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmVuYWJsZSgpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRyZWZyZXNo5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKTsKICAgIH0sCiAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8oKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb+aWueazlQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKTsKICAgIH0sCiAgICBzY3JvbGxUb0VsZW1lbnQ6IGZ1bmN0aW9uIHNjcm9sbFRvRWxlbWVudCgpIHsKICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahHNjcm9sbFRvRWxlbWVudOaWueazlQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUb0VsZW1lbnQuYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cyk7CiAgICB9LAogICAgaW1hZ2VMb2FkZWQ6IGZ1bmN0aW9uIGltYWdlTG9hZGVkKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5yZWZyZXNoKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5pWw5o2u55qE5Y+Y5YyW77yM5bu25pe2cmVmcmVzaERlbGF55pe26Ze05ZCO6LCD55SocmVmcmVzaOaWueazlemHjeaWsOiuoeeul++8jOS/neivgea7muWKqOaViOaenOato+W4uAogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMucmVmcmVzaCgpOwogICAgICB9LCB0aGlzLnJlZnJlc2hEZWxheSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Scroll2.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div ref=\"wrapper\">\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll'\n  export default {\n    name: \"Scroll2\",\n    props: {\n      /**\n       * 1 滚动的时候会派发scroll事件，会截流。\n       * 2 滚动的时候实时派发scroll事件，不会截流。\n       * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\n       */\n      probeType: {\n        type: Number,\n        default: 1\n      },\n      /**\n       * 点击列表是否派发click事件\n       */\n      click: {\n        type: Boolean,\n        default: true\n      },\n      /**\n       * 是否开启横向滚动\n       */\n      scrollX: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 是否派发滚动事件\n       */\n      listenScroll: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 列表的数据\n       */\n      data: {\n        type: Array,\n        default: null\n      },\n      /**\n       * 是否派发滚动到底部的事件，用于上拉加载\n       */\n      pullUpLoad: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 是否派发顶部下拉的事件，用于下拉刷新\n       */\n      pulldown: {\n        type: Boolean,\n        default: true,\n        bounce:true\n      },\n      /**\n       * 是否派发列表滚动开始的事件\n       */\n      beforeScroll: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 当数据更新后，刷新scroll的延时。\n       */\n      refreshDelay: {\n        type: Number,\n        default: 20\n      },\n    },\n    mounted() {\n      // 保证在DOM渲染完毕后初始化better-scroll\n      setTimeout(() => {\n        this._initScroll()\n      }, 20)\n    },\n    methods: {\n      _initScroll() {\n        if (!this.$refs.wrapper) {\n          return\n        }\n        // better-scroll的初始化\n        this.scroll = new BScroll(this.$refs.wrapper, {\n          probeType: this.probeType,\n          click: this.click,\n          scrollX: this.scrollX,\n          useTransition:false\n        })\n        // 是否派发滚动事件\n        if (this.listenScroll) {\n          this.scroll.on('scroll', (pos) => {\n            this.$emit('getScrollPosition', pos)\n          })\n        }\n\n        // 是否派发滚动到底部事件，用于上拉加载\n        if (this.pullUpLoad) {\n          this.scroll.on('scrollEnd', () => {\n            // 滚动到底部\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\n              this.$emit('pullUp')\n            }\n          })\n        }\n\n        // 是否派发顶部下拉事件，用于下拉刷新\n        if (this.pulldown) {\n          this.scroll.on('touchend', (pos) => {\n            // 下拉动作\n            if (pos.y > 50) {\n              this.$emit('pulldown')\n            }\n          })\n        }\n\n        // 是否派发列表滚动开始的事件\n        if (this.beforeScroll) {\n          this.scroll.on('beforeScrollStart', () => {\n            this.$emit('beforeScroll')\n          })\n        }\n      },\n      disable() {\n        // 代理better-scroll的disable方法\n        this.scroll && this.scroll.disable()\n      },\n      enable() {\n        // 代理better-scroll的enable方法\n        this.scroll && this.scroll.enable()\n      },\n      refresh() {\n        // 代理better-scroll的refresh方法\n        this.scroll && this.scroll.refresh()\n      },\n      scrollTo() {\n        // 代理better-scroll的scrollTo方法\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n      },\n      scrollToElement() {\n        // 代理better-scroll的scrollToElement方法\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n      },\n      imageLoaded(){\n        this.scroll && this.scroll.refresh()\n      },\n    },\n    watch: {\n      // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\n      data() {\n        setTimeout(() => {\n          this.refresh()\n        }, this.refreshDelay)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components/common/scroll"}]}