{"remainingRequest":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/categories/Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/categories/Category.vue","mtime":1598376786646},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aG91ZmFuL1Z1ZS9sZWFybi85Llx1NTU0Nlx1NTdDRVx1OTg3OVx1NzZFRS9tYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENhdGVnb3J5TmF2QmFyIGZyb20gIi4vY2F0ZWdvcnlDaGlsZENvbXBvbmVudHMvQ2F0ZWdvcnlOYXZCYXIiOwppbXBvcnQgQ2F0ZWdvcnlUYWJNZW51IGZyb20gIi4vY2F0ZWdvcnlDaGlsZENvbXBvbmVudHMvQ2F0ZWdvcnlUYWJNZW51IjsKaW1wb3J0IENhdGVnb3J5VGFiRGV0YWlsIGZyb20gIi4vY2F0ZWdvcnlDaGlsZENvbXBvbmVudHMvQ2F0ZWdvcnlUYWJEZXRhaWwiOwovKm5ldHdvcmsqLwoKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnksIGdldERldGFpbENhdGVnb3J5LCBnZXRNaW5pV2FsbGtleUdvb2RzIH0gZnJvbSAnbmV0d29yay9jYXRlZ29yeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2F0ZWdvcnkiLAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3J5TmF2QmFyOiBDYXRlZ29yeU5hdkJhciwKICAgIENhdGVnb3J5VGFiTWVudTogQ2F0ZWdvcnlUYWJNZW51LAogICAgQ2F0ZWdvcnlUYWJEZXRhaWw6IENhdGVnb3J5VGFiRGV0YWlsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiSW5mbzogbnVsbCwKICAgICAgY3VycmVudFRhYkluZGV4OiAwLAogICAgICBjYXRlZ29yeURhdGE6IHt9LAogICAgICBtYWl0S2V5OiBbXSwKICAgICAgbWluaVdhbGxrZXk6IFtdLAogICAgICBkZXRhaWxUYWJJbmZvOiBudWxsLAogICAgICBnb29kczogewogICAgICAgICdwb3AnOiB7CiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0sCiAgICAgICAgJ25ldyc6IHsKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICAnc2VsbCc6IHsKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgX2dldENhdGVnb3J5OiBmdW5jdGlvbiBfZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBnZXRDYXRlZ29yeSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuY2F0ZWdvcnk7IC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgLy8xLiDojrflj5Z0YWJMaXN0CgogICAgICAgIF90aGlzLnRhYkluZm8gPSBkYXRhLmxpc3Q7CiAgICAgICAgLyoKICAgICAgICAqIDIu6I635Y+WbWFpdGtleSZtaW5pV2FsbGtleQogICAgICAgICogKi8KCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF90aGlzLnRhYkluZm8pLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBfdGhpcy5tYWl0S2V5LnB1c2goaXRlbS5tYWl0S2V5KTsKCiAgICAgICAgICAgIF90aGlzLm1pbmlXYWxsa2V5LnB1c2goaXRlbS5taW5pV2FsbGtleSk7CiAgICAgICAgICB9CiAgICAgICAgICAvKgogICAgICAgICAgKiAzLuiOt+WPluWIneWni3RhYuS4iumDqOWIhuWxleekuueahOWGheWuuQogICAgICAgICAgKiAqLwoKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBnZXREZXRhaWxDYXRlZ29yeShfdGhpcy5tYWl0S2V5W190aGlzLmN1cnJlbnRUYWJJbmRleF0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuZGV0YWlsVGFiSW5mbyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSk7CiAgICAgICAgLyoKICAgICAgICAqIDQu6I635Y+W5Yid5aeL5LiL6YOo5YiGbWluaVdhbGxrZXnllYblk4EKICAgICAgICAqICovCgogICAgICAgIGZvciAodmFyIF9pID0gMCwgX2FyciA9IFsncG9wJywgJ25ldycsICdzZWxsJ107IF9pIDwgX2Fyci5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIHZhciBpID0gX2FycltfaV07CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5taW5pV2FsbGtleSksCiAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgICAgX3RoaXMuX2dldERldGFpbENhdGVnb3J5KGksIGtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy90YWLngrnlh7vkuovku7YKICAgIHRhYkNsaWNrOiBmdW5jdGlvbiB0YWJDbGljayhpbmRleCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudFRhYkluZGV4ID0gaW5kZXg7CiAgICAgIGdldERldGFpbENhdGVnb3J5KHRoaXMubWFpdEtleVtpbmRleF0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5kZXRhaWxUYWJJbmZvID0gcmVzLmRhdGEubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5Znb29kc0xpc3RJdGVtCiAgICBfZ2V0RGV0YWlsQ2F0ZWdvcnk6IGZ1bmN0aW9uIF9nZXREZXRhaWxDYXRlZ29yeSh0eXBlLCBrZXkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBnZXRNaW5pV2FsbGtleUdvb2RzKHR5cGUsIGtleSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmdvb2RzW3R5cGVdLmxpc3QucHVzaChyZXMpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvL+ivt+axguWIhuexu+aVsOaNrgogICAgdGhpcy5fZ2V0Q2F0ZWdvcnkoKTsgLy/or7fmsYLlj7PkuIvliIbnsbvllYblk4EKCgogICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLm1pbmlXYWxsa2V5KSwKICAgICAgICBfc3RlcDM7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgaSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgaWYgKGkgPT09IHRoaXMuY3VycmVudFRhYkluZGV4KSB7CiAgICAgICAgICB0aGlzLl9nZXREZXRhaWxDYXRlZ29yeSgncG9wJywgaSk7CgogICAgICAgICAgdGhpcy5fZ2V0RGV0YWlsQ2F0ZWdvcnkoJ3NlbGwnLCBpKTsKCiAgICAgICAgICB0aGlzLl9nZXREZXRhaWxDYXRlZ29yeSgnbmV3JywgaSk7CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IzLmYoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Category.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <!--NavBar-->\n      <category-nav-bar/>\n\n      <div class=\"row\">\n        <!--TabMenu-->\n        <category-tab-menu class=\"col-3 p-0\"\n                           :tabInfo=\"tabInfo\"\n                           @tabClick=\"tabClick\"/>\n        <category-tab-detail class=\"col-9 p-0\"\n                             :detail-tab-info=\"detailTabInfo\"\n                             :goods=\"goods\"\n                             :currentTabIndex=\"currentTabIndex\"/>\n      </div>\n\n\n\n    </div>\n  </div>\n</template>\n\n<script>\n  import CategoryNavBar from \"./categoryChildComponents/CategoryNavBar\";\n  import CategoryTabMenu from \"./categoryChildComponents/CategoryTabMenu\";\n  import CategoryTabDetail from \"./categoryChildComponents/CategoryTabDetail\";\n\n\n  /*network*/\n  import {getCategory,getDetailCategory,getMiniWallkeyGoods} from 'network/category'\n\n  export default{\n    name: \"Category\",\n    components:{\n      CategoryNavBar,\n      CategoryTabMenu,\n      CategoryTabDetail,\n    },\n    data(){\n      return{\n        tabInfo:null,\n        currentTabIndex:0,\n        categoryData:{},\n        maitKey:[],\n        miniWallkey:[],\n        detailTabInfo:null,\n        goods:{\n          'pop':{list:[]},\n          'new':{list:[]},\n          'sell':{list:[]},\n        },\n      }\n    },\n    methods:{\n      _getCategory(){\n        getCategory().then((res)=>{\n          const data = res.data.category\n          //console.log(data);\n\n          //1. 获取tabList\n          this.tabInfo = data.list;\n          /*\n          * 2.获取maitkey&miniWallkey\n          * */\n          for (let item of this.tabInfo){\n            this.maitKey.push(item.maitKey);\n            this.miniWallkey.push(item.miniWallkey)\n          }\n          /*\n          * 3.获取初始tab上部分展示的内容\n          * */\n          getDetailCategory(this.maitKey[this.currentTabIndex]).then((res)=>{\n            this.detailTabInfo = res.data.list\n          });\n          /*\n          * 4.获取初始下部分miniWallkey商品\n          * */\n          for (let i of ['pop','new','sell']){\n            for(let key of this.miniWallkey){\n              this._getDetailCategory(i,key)\n            }\n          }\n        })\n      },\n      //tab点击事件\n      tabClick(index){\n        this.currentTabIndex = index;\n        getDetailCategory(this.maitKey[index]).then((res)=>{\n          this.detailTabInfo = res.data.list\n        });\n      },\n      //获取goodsListItem\n      _getDetailCategory(type,key){\n          getMiniWallkeyGoods(type,key).then((res)=>{\n            this.goods[type].list.push(res)\n        })\n      },\n    },\n    created() {\n      //请求分类数据\n     this._getCategory();\n\n     //请求右下分类商品\n     for (let i of this.miniWallkey){\n       if (i===this.currentTabIndex){\n         this._getDetailCategory('pop',i);\n         this._getDetailCategory('sell',i);\n         this._getDetailCategory('new',i);\n         break\n       }\n     }\n    },\n  }\n</script>\n\n<style scoped>\n.wrapper{\n  height: 200px;\n  background-color: red;\n  overflow: hidden;\n}\n</style>\n"],"sourceRoot":"src/views/categories"}]}