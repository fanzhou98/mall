{"remainingRequest":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhoufan/Vue/learn/9.商城项目/mall/src/components/common/scroll/Scroll2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/src/components/common/scroll/Scroll2.vue","mtime":1597763037243},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2Nyb2xsMiIsCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICogMSDmu5rliqjnmoTml7blgJnkvJrmtL7lj5FzY3JvbGzkuovku7bvvIzkvJrmiKrmtYHjgIIKICAgICAqIDIg5rua5Yqo55qE5pe25YCZ5a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5LiN5Lya5oiq5rWB44CCCiAgICAgKiAzIOmZpOS6huWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOWcqHN3aXBl55qE5oOF5Ya15LiL5LuN54S26IO95a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu2CiAgICAgKi8KICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICAvKioKICAgICAqIOeCueWHu+WIl+ihqOaYr+WQpua0vuWPkWNsaWNr5LqL5Lu2CiAgICAgKi8KICAgIGNsaWNrOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvKioKICAgICAqIOaYr+WQpuW8gOWQr+aoquWQkea7muWKqAogICAgICovCiAgICBzY3JvbGxYOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLyoqCiAgICAgKiDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YKICAgICAqLwogICAgbGlzdGVuU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLyoqCiAgICAgKiDliJfooajnmoTmlbDmja4KICAgICAqLwogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8qKgogICAgICog5piv5ZCm5rS+5Y+R5rua5Yqo5Yiw5bqV6YOo55qE5LqL5Lu277yM55So5LqO5LiK5ouJ5Yqg6L29CiAgICAgKi8KICAgIHB1bGxVcExvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvKioKICAgICAqIOaYr+WQpua0vuWPkemhtumDqOS4i+aLieeahOS6i+S7tu+8jOeUqOS6juS4i+aLieWIt+aWsAogICAgICovCiAgICBwdWxsZG93bjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8qKgogICAgICog5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2CiAgICAgKi8KICAgIGJlZm9yZVNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8qKgogICAgICog5b2T5pWw5o2u5pu05paw5ZCO77yM5Yi35pawc2Nyb2xs55qE5bu25pe244CCCiAgICAgKi8KICAgIHJlZnJlc2hEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g5L+d6K+B5ZyoRE9N5riy5p+T5a6M5q+V5ZCO5Yid5aeL5YyWYmV0dGVyLXNjcm9sbAogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuX2luaXRTY3JvbGwoKQogICAgfSwgMjApCiAgfSwKICBtZXRob2RzOiB7CiAgICBfaW5pdFNjcm9sbCgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyBiZXR0ZXItc2Nyb2xs55qE5Yid5aeL5YyWCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwKICAgICAgICBjbGljazogdGhpcy5jbGljaywKICAgICAgICBzY3JvbGxYOiB0aGlzLnNjcm9sbFgKICAgICAgfSkKICAgICAgLy8g5piv5ZCm5rS+5Y+R5rua5Yqo5LqL5Lu2CiAgICAgIGlmICh0aGlzLmxpc3RlblNjcm9sbCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCAocG9zKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdnZXRTY3JvbGxQb3NpdGlvbicsIHBvcykKICAgICAgICB9KQogICAgICB9CgogICAgICAvLyDmmK/lkKbmtL7lj5Hmu5rliqjliLDlupXpg6jkuovku7bvvIznlKjkuo7kuIrmi4nliqDovb0KICAgICAgaWYgKHRoaXMucHVsbFVwTG9hZCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGxFbmQnLCAoKSA9PiB7CiAgICAgICAgICAvLyDmu5rliqjliLDlupXpg6gKICAgICAgICAgIGlmICh0aGlzLnNjcm9sbC55IDw9ICh0aGlzLnNjcm9sbC5tYXhTY3JvbGxZICsgNTApKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3B1bGxVcCcpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgICAgLy8g5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawCiAgICAgIGlmICh0aGlzLnB1bGxkb3duKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3RvdWNoZW5kJywgKHBvcykgPT4gewogICAgICAgICAgLy8g5LiL5ouJ5Yqo5L2cCiAgICAgICAgICBpZiAocG9zLnkgPiA1MCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdwdWxsZG93bicpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgICAgLy8g5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2CiAgICAgIGlmICh0aGlzLmJlZm9yZVNjcm9sbCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdiZWZvcmVTY3JvbGxTdGFydCcsICgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGRpc2FibGUoKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRkaXNhYmxl5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmRpc2FibGUoKQogICAgfSwKICAgIGVuYWJsZSgpIHsKICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGVuYWJsZeaWueazlQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5lbmFibGUoKQogICAgfSwKICAgIHJlZnJlc2goKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRyZWZyZXNo5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQogICAgfSwKICAgIHNjcm9sbFRvKCkgewogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEc2Nyb2xsVG/mlrnms5UKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG8uYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cykKICAgIH0sCiAgICBzY3JvbGxUb0VsZW1lbnQoKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb0VsZW1lbnTmlrnms5UKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG9FbGVtZW50LmFwcGx5KHRoaXMuc2Nyb2xsLCBhcmd1bWVudHMpCiAgICB9LAogICAgaW1hZ2VMb2FkZWQoKXsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwucmVmcmVzaCgpCiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOaVsOaNrueahOWPmOWMlu+8jOW7tuaXtnJlZnJlc2hEZWxheeaXtumXtOWQjuiwg+eUqHJlZnJlc2jmlrnms5Xph43mlrDorqHnrpfvvIzkv53or4Hmu5rliqjmlYjmnpzmraPluLgKICAgIGRhdGEoKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMucmVmcmVzaCgpCiAgICAgIH0sIHRoaXMucmVmcmVzaERlbGF5KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Scroll2.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scroll2.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\n  <div ref=\"wrapper\">\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll'\n  export default {\n    name: \"Scroll2\",\n    props: {\n      /**\n       * 1 滚动的时候会派发scroll事件，会截流。\n       * 2 滚动的时候实时派发scroll事件，不会截流。\n       * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\n       */\n      probeType: {\n        type: Number,\n        default: 1\n      },\n      /**\n       * 点击列表是否派发click事件\n       */\n      click: {\n        type: Boolean,\n        default: true\n      },\n      /**\n       * 是否开启横向滚动\n       */\n      scrollX: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 是否派发滚动事件\n       */\n      listenScroll: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 列表的数据\n       */\n      data: {\n        type: Array,\n        default: null\n      },\n      /**\n       * 是否派发滚动到底部的事件，用于上拉加载\n       */\n      pullUpLoad: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 是否派发顶部下拉的事件，用于下拉刷新\n       */\n      pulldown: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 是否派发列表滚动开始的事件\n       */\n      beforeScroll: {\n        type: Boolean,\n        default: false\n      },\n      /**\n       * 当数据更新后，刷新scroll的延时。\n       */\n      refreshDelay: {\n        type: Number,\n        default: 20\n      }\n    },\n    mounted() {\n      // 保证在DOM渲染完毕后初始化better-scroll\n      setTimeout(() => {\n        this._initScroll()\n      }, 20)\n    },\n    methods: {\n      _initScroll() {\n        if (!this.$refs.wrapper) {\n          return\n        }\n        // better-scroll的初始化\n        this.scroll = new BScroll(this.$refs.wrapper, {\n          probeType: this.probeType,\n          click: this.click,\n          scrollX: this.scrollX\n        })\n        // 是否派发滚动事件\n        if (this.listenScroll) {\n          this.scroll.on('scroll', (pos) => {\n            this.$emit('getScrollPosition', pos)\n          })\n        }\n\n        // 是否派发滚动到底部事件，用于上拉加载\n        if (this.pullUpLoad) {\n          this.scroll.on('scrollEnd', () => {\n            // 滚动到底部\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\n              this.$emit('pullUp')\n            }\n          })\n        }\n\n        // 是否派发顶部下拉事件，用于下拉刷新\n        if (this.pulldown) {\n          this.scroll.on('touchend', (pos) => {\n            // 下拉动作\n            if (pos.y > 50) {\n              this.$emit('pulldown')\n            }\n          })\n        }\n\n        // 是否派发列表滚动开始的事件\n        if (this.beforeScroll) {\n          this.scroll.on('beforeScrollStart', () => {\n            this.$emit('beforeScroll')\n          })\n        }\n      },\n      disable() {\n        // 代理better-scroll的disable方法\n        this.scroll && this.scroll.disable()\n      },\n      enable() {\n        // 代理better-scroll的enable方法\n        this.scroll && this.scroll.enable()\n      },\n      refresh() {\n        // 代理better-scroll的refresh方法\n        this.scroll && this.scroll.refresh()\n      },\n      scrollTo() {\n        // 代理better-scroll的scrollTo方法\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n      },\n      scrollToElement() {\n        // 代理better-scroll的scrollToElement方法\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n      },\n      imageLoaded(){\n        this.scroll && this.scroll.refresh()\n      },\n    },\n    watch: {\n      // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\n      data() {\n        setTimeout(() => {\n          this.refresh()\n        }, this.refreshDelay)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}