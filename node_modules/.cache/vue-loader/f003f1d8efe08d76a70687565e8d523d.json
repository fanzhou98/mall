{"remainingRequest":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/src/views/detail/Detail.vue","mtime":1597906473486},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhoufan/Vue/learn/9.商城项目/mall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qY2hpbGQgY29tcG9uZW50cyovCmltcG9ydCBEZXRhaWxOYXZCYXIgZnJvbSAiLi9jaGlsZENvbXBvbmVudHMvRGV0YWlsTmF2QmFyIjsKaW1wb3J0IERldGFpbFN3aXBlciBmcm9tICIuL2NoaWxkQ29tcG9uZW50cy9EZXRhaWxTd2lwZXIiOwppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAiLi9jaGlsZENvbXBvbmVudHMvRGV0YWlsQmFzZUluZm8iOwppbXBvcnQgRGV0YWlsU2hvcEluZm8gZnJvbSAiLi9jaGlsZENvbXBvbmVudHMvRGV0YWlsU2hvcEluZm8iOwppbXBvcnQgRGV0YWlsR29vZHNJbmZvIGZyb20gIi4vY2hpbGRDb21wb25lbnRzL0RldGFpbEdvb2RzSW5mbyI7CmltcG9ydCBEZXRhaWxHb29kc1BhcmFtcyBmcm9tICIuL2NoaWxkQ29tcG9uZW50cy9EZXRhaWxHb29kc1BhcmFtcyI7CmltcG9ydCBEZXRhaWxDb21tZW50cyBmcm9tICIuL2NoaWxkQ29tcG9uZW50cy9EZXRhaWxDb21tZW50cyI7CmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAiLi9jaGlsZENvbXBvbmVudHMvRGV0YWlsQm90dG9tQmFyIjsKCi8qbmV0d29yayovCmltcG9ydCB7Z2V0RGV0YWlsLEdvb2RzLFNob3AsUGFyYW1zLENvbW1lbnRzLGdldFJlY29tbWVuZH0gZnJvbSAnbmV0d29yay9kZXRhaWwnCgovKmdlbmVyYWwgY29tcG9uZW50cyovCmltcG9ydCBzY3JvbGwgZnJvbSAnY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbDInCmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzTGlzdC9Hb29kc0xpc3QiOwppbXBvcnQgQmFja1RvcCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvYmFja1RvcC9CYWNrVG9wIjsKCi8qbWlueGlucyovCmltcG9ydCB7Z29vZHNMaXN0RGVib3VuY2UsYmFja1RvcH0gZnJvbSAnY29tbW9uL21peGlucycKCi8qdXRpbHMqLwppbXBvcnQge2RlYm91bmNlfSBmcm9tICIuLi8uLi9jb21tb24vdXRpbHMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZXRhaWwiLAogIGNvbXBvbmVudHM6ewogICAgRGV0YWlsTmF2QmFyLAogICAgRGV0YWlsU3dpcGVyLAogICAgRGV0YWlsQmFzZUluZm8sCiAgICBEZXRhaWxTaG9wSW5mbywKICAgIHNjcm9sbCwKICAgIERldGFpbEdvb2RzSW5mbywKICAgIERldGFpbEdvb2RzUGFyYW1zLAogICAgRGV0YWlsQ29tbWVudHMsCiAgICBHb29kc0xpc3QsCiAgICBCYWNrVG9wLAogICAgRGV0YWlsQm90dG9tQmFyLAogIH0sCiAgbWl4aW5zOlsKICAgIGdvb2RzTGlzdERlYm91bmNlLAogICAgYmFja1RvcCwKICBdLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgaWQ6IG51bGwsCiAgICAgIHRvcEltYWdlczogW10sCiAgICAgIGdvb2RzOnt9LAogICAgICBzaG9wOnt9LAogICAgICBkZXRhaWxHb29kc0luZm86e30sCiAgICAgIHBhcmFtczp7fSwKICAgICAgc2hvd0NvbW1lbnQ6dHJ1ZSwKICAgICAgY29tbWVudHM6e30sCiAgICAgIHJlY29tbWVuZHM6W10sCiAgICAgIG5hdlk6W10sCiAgICAgIGdldE5hdlk6bnVsbCwKICAgICAgaW1hZ2VMb2FkOm51bGwsCiAgICAgIHRhYkNoYW5nZTpmYWxzZSwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL+S7jui3r+eUseS4reiOt+WPlui0p+eJqWlkCiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQKICAgIC8qCiAgICAqIOS9v+eUqGlk5LuO5pyN5Yqh5Zmo6I635Y+W5pWw5o2uCiAgICAqICovCiAgICBnZXREZXRhaWwodGhpcy5pZCkudGhlbigocmVzKT0+ewogICAgICBjb25zdCBkYXRhID0gcmVzLnJlc3VsdAogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgLyoKICAgICAgKui9ruaSreWbvgogICAgICAqICovCiAgICAgIHRoaXMudG9wSW1hZ2VzID0gZGF0YS5pdGVtSW5mby50b3BJbWFnZXMKCiAgICAgIC8qCiAgICAgICog6LSn54mp6aG16Z2iCiAgICAgICogKi8KICAgICAgdGhpcy5nb29kcyA9IG5ldyBHb29kcyhkYXRhLml0ZW1JbmZvLGRhdGEuY29sdW1ucyxkYXRhLnNob3BJbmZvLnNlcnZpY2VzKQoKICAgICAgLyoKICAgICAgKiDllYblrrbnroDku4sKICAgICAgKiAqLwogICAgICB0aGlzLnNob3AgPSBuZXcgU2hvcChkYXRhLnNob3BJbmZvKQoKICAgICAgLyoKICAgICAgKiDnianlk4Hor6bmg4UKICAgICAgKiAqLwogICAgICB0aGlzLmRldGFpbEdvb2RzSW5mbyA9IHsKICAgICAgICBkZXRhaWxJbmZvOmRhdGEuZGV0YWlsSW5mby5kZXNjLAogICAgICAgIGRldGFpbEltYWdlOmRhdGEuZGV0YWlsSW5mby5kZXRhaWxJbWFnZVswXS5saXN0CiAgICAgIH0KCiAgICAgIC8qCiAgICAgICog54mp5ZOB5Y+C5pWwCiAgICAgICogKi8KICAgICAgdGhpcy5wYXJhbXMgPSBuZXcgUGFyYW1zKGRhdGEuaXRlbVBhcmFtcykKCiAgICAgIC8qCiAgICAgICog6K+E6K66CiAgICAgICogKi8KICAgICAgaWYoZGF0YS5yYXRlLmxpc3QpewogICAgICAgIHRoaXMuY29tbWVudHMgPSBuZXcgQ29tbWVudHMoZGF0YS5yYXRlLmxpc3QpCiAgICAgIH1lbHNlIHsKICAgICAgICB0aGlzLnNob3dDb21tZW50ID0gZmFsc2UKICAgICAgfQoKICAgICAgLyoKICAgICAgKiDllYblk4HmjqjojZAKICAgICAgKiAqLwogICAgICBnZXRSZWNvbW1lbmQoKS50aGVuKChyZXMpPT57CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuZGF0YS5saXN0KTsKICAgICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5saXN0CiAgICAgIH0pCgogICAgICAvKmRlYm91bmNlCiAgICAgICog5b2T5Zu+54mH5Yqg6L295a6M5oiQ6L+b5YWlZGVib3VuY2XvvIzlm6DkuLrmr4/kuIDlvKDlm77niYfnmoTliqDovb3lrozmiJDpg73kvJrosIPnlKjkuIDmrKFpbWFnZUxvYWTmlrnms5XvvIwKICAgICAgKiDmiYDku6Xov5nph4zkvb/nlKhkZWJvdW5jZQogICAgICAqICovCiAgICAgIC8v6auY5bqm6LWL5YC8ZGVib3VuY2UKICAgICAgdGhpcy5nZXROYXZZID0gZGVib3VuY2UoKCk9PnsKICAgICAgICB0aGlzLm5hdlkgPSBbXQogICAgICAgIHRoaXMubmF2WS5wdXNoKDApCiAgICAgICAgdGhpcy5uYXZZLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkKICAgICAgICB0aGlzLm5hdlkucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnRzLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgdGhpcy5uYXZZLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmRzLiRlbC5vZmZzZXRUb3ApCiAgICAgICAgdGhpcy5uYXZZLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmRzLiRlbC5vZmZzZXRUb3ArMTAwMDApCiAgICAgICAgdGhpcy50YWJDaGFuZ2UgPSB0cnVlCiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm5hdlkpOwogICAgICB9LDIwKQogICAgICAvL+WbvueJh+WKoOi9veWujOaIkOa7muWKqOWIt+aWsGRlYm91bmNlCiAgICAgIHRoaXMuaW1hZ2VMb2FkID0gZGVib3VuY2UoKCk9PnsKICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgICAgfSkKICAgIH0pCiAgfSwKICBtZXRob2RzOnsKICAgIC8qCiAgICAqIOWbvueJh+WKoOi9veebkeWQrAogICAgKiAqLwogICAgaW1hZ2VMb2FkZWQoKXsKICAgICAgLy/lm77niYfliqDovb3lrozmiJDlkI7liLfmlrBzY3JvbGwKICAgICAgdGhpcy5pbWFnZUxvYWQoKTsKICAgICAgdGhpcy5nZXROYXZZKCkKICAgIH0sCiAgICAvKgogICAgKiDmu5rliqjnm5HlkKwKICAgICogKi8KICAgIGdldFNjcm9sbFBvc2l0aW9uKHBvc2l0aW9uKXsKICAgICAgLy/lm57liLDpobbpg6jmjInpkq4KICAgICAgdGhpcy5zaG93QmFja1RvcCA9ICgtcG9zaXRpb24ueSkgPiAxMDAwOwogICAgICAvL25hdkJhcumaj+a7muWKqOWPmOWMlgogICAgICBmb3IobGV0IGkgPSAwOyBpPHRoaXMubmF2WS5sZW5ndGgtMTsgaSsrKXsKICAgICAgICBsZXQgbm93WSA9IC1wb3NpdGlvbi55CiAgICAgICAgLyrnrKzkuIDkuKrmnaHku7bpmLLmraLotYvlgLzpopHnuYEqLwogICAgICAgIGlmKHRoaXMuY3VycmVudEluZGV4IT09aSAmJiB0aGlzLm5hdllbaV0gPCBub3dZICYmIG5vd1kgPD0gdGhpcy5uYXZZW2krMV0pewogICAgICAgICAgdGhpcy4kcmVmcy5uYXZCYXIuY3VycmVudEluZGV4ID0gaQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qCiAgICAqIG5hdueCueWHuwogICAgKiAqLwogICAgbmF2Q2xpY2soaW5kZXgpewogICAgICBpZih0aGlzLnRhYkNoYW5nZSl7CiAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwtdGhpcy5uYXZZW2luZGV4XS0xLDApCiAgICAgICAgdGhpcy4kcmVmcy5uYXZCYXIuY3VycmVudEluZGV4ID0gaW5kZXgKICAgICAgfWVsc2UgewogICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnNjcm9sbFRvKDAsLXRoaXMubmF2WVtpbmRleF0sNTAwKQogICAgICAgIH0sNTAwKQogICAgICB9CiAgICB9LAogICAgYWRkQ2FydCgpewogICAgICBsZXQgYWRkZWRHb29kcyA9IHt9OwogICAgICAvKuWKoOWFpei0reeJqei9puaVsOaNriovCiAgICAgIGFkZGVkR29vZHMudG9wSW1hZ2VzID0gdGhpcy50b3BJbWFnZXNbMF07CiAgICAgIGFkZGVkR29vZHMudGl0bGUgPSB0aGlzLmdvb2RzLnRpdGxlOwogICAgICBhZGRlZEdvb2RzLmRlc2MgPSB0aGlzLmdvb2RzLmRlc2M7CiAgICAgIGFkZGVkR29vZHMucHJpY2UgPSB0aGlzLmdvb2RzLmxvd05vd1ByaWNlOwogICAgICBhZGRlZEdvb2RzLmlkID0gdGhpcy5pZDsKICAgICAgYWRkZWRHb29kcy5jb3VudCA9IDE7CiAgICAgIC8vY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUpOwogICAgICAvL3RoaXMuJHN0b3JlLmNvbW1pdCgnYWRkQ2FydCcsYWRkZWRHb29kcykKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkZENhcnQnLGFkZGVkR29vZHMpCiAgICB9CiAgfSwKCiAgLyoKICAqIOW9k+emu+W8gGRldGFpbOaXtu+8jOWBnOatouWvueWFrOWFsee7hOS7tmdvb2RzSXRlbeS4rWltYWdlTG9hZGVk55qE55uR5ZCsCiAgKiAqLwogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuJGJ1cy4kb2ZmKCdpbWFnZUxvYWRlZCcsdGhpcy5nb29kc0ltYWdlTGlzdGVuZXIpCiAgfQp9Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div>\n      <div class=\"container\" id=\"main-wrap\">\n        <detail-nav-bar class=\"nav shadow-sm row\"\n                        @navClick=\"navClick\"\n                        ref=\"navBar\"/>\n        <!--Scroll-->\n        <scroll class=\"scroll\"\n                :probeType=\"3\"\n                :pull-up-load=\"true\"\n                ref=\"scroll\"\n                :listen-scroll=\"true\"\n                :pulldown=\"true\"\n                @getScrollPosition=\"getScrollPosition\">\n          <!--Swiper-->\n          <div class=\"row swiper\">\n            <div class=\"col p-0\">\n              <detail-swiper :topImages=\"topImages\"></detail-swiper>\n            </div>\n          </div>\n\n          <!--goodsBaseInfo-->\n          <detail-base-info :goods=\"goods\"></detail-base-info>\n\n          <!--goodsDetailInfo-->\n          <detail-shop-info :shop=\"shop\"></detail-shop-info>\n\n          <!--detailGoodsInfo-->\n          <detail-goods-info :detailInfo=\"detailGoodsInfo\" @imageLoaded=\"imageLoaded\"/>\n\n          <!--DetailGoodsParams-->\n          <detail-goods-params :params=\"params\" ref=\"params\"/>\n\n          <!--DetailComments-->\n          <detail-comments :comments=\"comments\" ref=\"comments\" :showComment=\"showComment\"/>\n\n          <!--GoodsList-->\n          <goods-list :goods=\"recommends\" ref=\"recommends\"/>\n        </scroll>\n      </div>\n\n    <!--BackTop-->\n    <back-top @click.native=\"backUpClick\"\n              v-show=\"showBackTop\"/>\n\n    <!--DetailBottomBar-->\n    <detail-bottom-bar @addCart=\"addCart\"/>\n  </div>\n</template>\n\n<script>\n  /*child components*/\n  import DetailNavBar from \"./childComponents/DetailNavBar\";\n  import DetailSwiper from \"./childComponents/DetailSwiper\";\n  import DetailBaseInfo from \"./childComponents/DetailBaseInfo\";\n  import DetailShopInfo from \"./childComponents/DetailShopInfo\";\n  import DetailGoodsInfo from \"./childComponents/DetailGoodsInfo\";\n  import DetailGoodsParams from \"./childComponents/DetailGoodsParams\";\n  import DetailComments from \"./childComponents/DetailComments\";\n  import DetailBottomBar from \"./childComponents/DetailBottomBar\";\n\n  /*network*/\n  import {getDetail,Goods,Shop,Params,Comments,getRecommend} from 'network/detail'\n\n  /*general components*/\n  import scroll from 'components/common/scroll/Scroll2'\n  import GoodsList from \"components/content/goodsList/GoodsList\";\n  import BackTop from \"components/content/backTop/BackTop\";\n\n  /*minxins*/\n  import {goodsListDebounce,backTop} from 'common/mixins'\n\n  /*utils*/\n  import {debounce} from \"../../common/utils\";\n\n  export default {\n    name: \"Detail\",\n    components:{\n      DetailNavBar,\n      DetailSwiper,\n      DetailBaseInfo,\n      DetailShopInfo,\n      scroll,\n      DetailGoodsInfo,\n      DetailGoodsParams,\n      DetailComments,\n      GoodsList,\n      BackTop,\n      DetailBottomBar,\n    },\n    mixins:[\n      goodsListDebounce,\n      backTop,\n    ],\n    data(){\n      return{\n        id: null,\n        topImages: [],\n        goods:{},\n        shop:{},\n        detailGoodsInfo:{},\n        params:{},\n        showComment:true,\n        comments:{},\n        recommends:[],\n        navY:[],\n        getNavY:null,\n        imageLoad:null,\n        tabChange:false,\n      }\n    },\n    created() {\n      //从路由中获取货物id\n      this.id = this.$route.query.id\n      /*\n      * 使用id从服务器获取数据\n      * */\n      getDetail(this.id).then((res)=>{\n        const data = res.result\n        console.log(data);\n        /*\n        *轮播图\n        * */\n        this.topImages = data.itemInfo.topImages\n\n        /*\n        * 货物页面\n        * */\n        this.goods = new Goods(data.itemInfo,data.columns,data.shopInfo.services)\n\n        /*\n        * 商家简介\n        * */\n        this.shop = new Shop(data.shopInfo)\n\n        /*\n        * 物品详情\n        * */\n        this.detailGoodsInfo = {\n          detailInfo:data.detailInfo.desc,\n          detailImage:data.detailInfo.detailImage[0].list\n        }\n\n        /*\n        * 物品参数\n        * */\n        this.params = new Params(data.itemParams)\n\n        /*\n        * 评论\n        * */\n        if(data.rate.list){\n          this.comments = new Comments(data.rate.list)\n        }else {\n          this.showComment = false\n        }\n\n        /*\n        * 商品推荐\n        * */\n        getRecommend().then((res)=>{\n          //console.log(res.data.list);\n          this.recommends = res.data.list\n        })\n\n        /*debounce\n        * 当图片加载完成进入debounce，因为每一张图片的加载完成都会调用一次imageLoad方法，\n        * 所以这里使用debounce\n        * */\n        //高度赋值debounce\n        this.getNavY = debounce(()=>{\n          this.navY = []\n          this.navY.push(0)\n          this.navY.push(this.$refs.params.$el.offsetTop)\n          this.navY.push(this.$refs.comments.$el.offsetTop)\n          this.navY.push(this.$refs.recommends.$el.offsetTop)\n          this.navY.push(this.$refs.recommends.$el.offsetTop+10000)\n          this.tabChange = true\n          //console.log(this.navY);\n        },20)\n        //图片加载完成滚动刷新debounce\n        this.imageLoad = debounce(()=>{\n          this.$refs.scroll.refresh()\n        })\n      })\n    },\n    methods:{\n      /*\n      * 图片加载监听\n      * */\n      imageLoaded(){\n        //图片加载完成后刷新scroll\n        this.imageLoad();\n        this.getNavY()\n      },\n      /*\n      * 滚动监听\n      * */\n      getScrollPosition(position){\n        //回到顶部按钮\n        this.showBackTop = (-position.y) > 1000;\n        //navBar随滚动变化\n        for(let i = 0; i<this.navY.length-1; i++){\n          let nowY = -position.y\n          /*第一个条件防止赋值频繁*/\n          if(this.currentIndex!==i && this.navY[i] < nowY && nowY <= this.navY[i+1]){\n            this.$refs.navBar.currentIndex = i\n          }\n        }\n      },\n      /*\n      * nav点击\n      * */\n      navClick(index){\n        if(this.tabChange){\n          this.$refs.scroll.scrollTo(0,-this.navY[index]-1,0)\n          this.$refs.navBar.currentIndex = index\n        }else {\n          setTimeout(()=>{\n            this.$refs.scroll.scrollTo(0,-this.navY[index],500)\n          },500)\n        }\n      },\n      addCart(){\n        let addedGoods = {};\n        /*加入购物车数据*/\n        addedGoods.topImages = this.topImages[0];\n        addedGoods.title = this.goods.title;\n        addedGoods.desc = this.goods.desc;\n        addedGoods.price = this.goods.lowNowPrice;\n        addedGoods.id = this.id;\n        addedGoods.count = 1;\n        //console.log(this.$store.state);\n        //this.$store.commit('addCart',addedGoods)\n        this.$store.dispatch('addCart',addedGoods)\n      }\n    },\n\n    /*\n    * 当离开detail时，停止对公共组件goodsItem中imageLoaded的监听\n    * */\n    destroyed() {\n      this.$bus.$off('imageLoaded',this.goodsImageListener)\n    }\n  }\n</script>\n\n<style scoped>\n  #main-wrap{\n    background-color: white;\n    position: relative;\n    z-index: 101;\n    font-weight: 200;\n  }\n  .nav{\n    position: relative;\n    z-index: 102;\n    background-color: white;\n  }\n  .scroll{\n    height: calc(100vh - 100px);\n  }\n</style>\n"]}]}