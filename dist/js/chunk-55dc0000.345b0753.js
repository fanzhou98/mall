(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55dc0000"],{"14a1":function(t,e,a){},"21da":function(t,e,a){"use strict";var n=a("fed5"),r=a.n(n);r.a},"446f":function(t,e,a){"use strict";var n=a("aa2a"),r=a.n(n);r.a},"90a4":function(t,e,a){"use strict";var n=a("d386"),r=a.n(n);r.a},aa2a:function(t,e,a){},ae400:function(t,e,a){"use strict";var n=a("f259"),r=a.n(n);r.a},b2f4:function(t,e,a){"use strict";var n=a("14a1"),r=a.n(n);r.a},b3d7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("nav-bar",{staticClass:"row justify-content-around align-items-center shadow-sm nav-bar",attrs:{middleColNum:12}},[a("div",{staticClass:"slot align-items-center",attrs:{slot:"middle"},slot:"middle"},[a("div",{staticClass:"title text-center"},[t._v("美丽说")])])]),a("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.fixTabControl,expression:"fixTabControl"}],ref:"tabControl2",staticClass:"row tabControl-2",attrs:{title:["Trends","New","Special"],currentTabIndex:t.currentTabIndex},on:{homeTabClick:t.tabClick}}),a("scroll",{ref:"scroll",staticClass:"main-content",attrs:{probeType:3,"pull-up-load":!0,data:[this.currentTabName,this.currentTabIndex,this.goods],listenScroll:!0},on:{getScrollPosition:t.getScrollPosition,pullUp:t.loadMore}},[a("div",{staticClass:"row swiper"},[a("div",{staticClass:"col"},[a("home-swiper",{attrs:{banners:t.banners},on:{swiperImageLoaded:t.swiperImageLoaded}})],1)]),a("home-recommand",{staticClass:"row d-flex align-items-center justify-content-between shadow-sm mt-1 pt-2 pb-2 mb-2",attrs:{recommands:t.recommands,id:"recommand"}}),a("feature-view",{staticClass:"row d-flex align-items-center mb-2"}),a("tab-control",{ref:"tabControl1",staticClass:"row tabControl",class:{fixTabControl:t.fixTabControl},attrs:{title:["Trends","New","Special"],currentTabIndex:t.currentTabIndex},on:{homeTabClick:t.tabClick}}),a("goods-list",{staticClass:"p-3 goodList-scroll",attrs:{goods:t.goods[t.currentTabName].list}})],1),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backUpClick(e)}}})],1)])},r=[],o=(a("277d"),a("6b75"));function s(t){if(Array.isArray(t))return Object(o["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return s(t)||i(t)||Object(c["a"])(t)||l()}var u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("swiper-main",{attrs:{autoPlay:3e3}},t._l(t.banners,(function(e){return a("swiper-item",[a("a",{attrs:{href:e.link}},[a("img",{staticClass:"swiper-item",attrs:{src:e.image,alt:""},on:{load:t.swiperImageLoaded}})])])})),1)],1)},m=[],f=a("ace8"),b=a("09fc"),p={name:"HomeSwiper",components:{SwiperMain:f["a"],SwiperItem:b["a"]},data:function(){return{imageLoaded:!1}},props:{banners:{type:Array,default:function(){return[]}}},methods:{swiperImageLoaded:function(){this.imageLoaded||(this.$emit("swiperImageLoaded"),this.imageLoaded=!0)}}},h=p,v=(a("21da"),a("2877")),w=Object(v["a"])(h,u,m,!1,null,"d9a9e6b6",null),g=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.recommands,(function(e){return a("div",{staticClass:"col d-block text-center"},[a("div",{staticClass:"mb-1",attrs:{id:"image"}},[a("a",{attrs:{href:e.link}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"recommand-image",attrs:{alt:""}})])]),a("div",[t._v(t._s(e.title))])])})),0)},T=[],x={name:"HomeRecommand",props:{recommands:{type:Array,default:function(){return[]}}}},k=x,y=(a("90a4"),Object(v["a"])(k,C,T,!1,null,"04c4f440",null)),I=y.exports,_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"feature-wrap col"},[a("a",{attrs:{href:""}},[a("img",{staticClass:"featureImage",attrs:{src:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2496553910,1557632824&fm=26&gp=0.jpg",alt:""}})])])])}],$={name:"FeatureView"},j=$,H=(a("446f"),Object(v["a"])(j,_,S,!1,null,"cc4351ee",null)),N=H.exports,L=a("a7ac"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.title,(function(e,n){return a("div",{staticClass:"col"},[a("div",{staticClass:"text-wrap",on:{click:function(e){return t.tabClick(n)}}},[a("span",{staticClass:"content",class:{active:t.currentIndex===n}},[t._v(t._s(e))])])])})),0)},A=[],E={name:"TabControl",data:function(){return{currentIndex:0}},props:{title:{type:Array,default:function(){return[]}}},methods:{tabClick:function(t){this.currentIndex=t,this.$emit("homeTabClick",t)}}},G=E,B=(a("b2f4"),Object(v["a"])(G,O,A,!1,null,"19e7e593",null)),M=B.exports,F=a("9287"),P=a("d127"),z=a("fdd6"),J=a("aff8"),R=a("1bab");function U(){return Object(R["a"])({url:"/home/multidata"})}function V(t,e){return Object(R["a"])({url:"/home/data",params:{type:t,page:e}})}var K={name:"Home",components:{NavBar:L["a"],HomeSwiper:g,HomeRecommand:I,FeatureView:N,TabControl:M,GoodsList:F["a"],Scroll:P["a"],BackTop:z["a"]},mixins:[J["b"],J["a"]],data:function(){return{banners:[],recommands:[],currentTabName:"pop",goods:{pop:{list:[],page:0},new:{list:[],page:0},sell:{list:[],page:0}},tabControlTop:500,fixTabControl:!1,currentTabIndex:0,A:-480,B:-480,C:-480}},created:function(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},methods:{tabClick:function(t){var e=this;this.$nextTick((function(){switch(t){case 0:e.currentTabName="pop";break;case 1:e.currentTabName="new";break;case 2:e.currentTabName="sell";break}})),this.$refs.tabControl2.currentIndex=t,this.$refs.tabControl1.currentIndex=t},getScrollPosition:function(t){this.showBackTop=-t.y>1e3,this.fixTabControl=-t.y>this.tabControlTop},loadMore:function(){this.getHomeGoods(this.currentTabName)},swiperImageLoaded:function(){this.tabControlTop=this.$refs.tabControl1.$el.offsetTop-45},getHomeMultidata:function(){var t=this;U().then((function(e){t.banners=e.data.banner.list,t.recommands=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,a=this.goods[t].page+1;V(t,a).then((function(n){var r;(r=e.goods[t].list).push.apply(r,d(n.data.list)),e.goods[t].page=a}))}},asctivated:function(){},deactivated:function(){this.$bus.$off("imageLoaded",this.goodsImageListener)}},Q=K,W=(a("ae400"),Object(v["a"])(Q,n,r,!1,null,"227f8fb7",null));e["default"]=W.exports},d386:function(t,e,a){},f259:function(t,e,a){},fed5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-55dc0000.345b0753.js.map